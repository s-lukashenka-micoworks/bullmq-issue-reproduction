--[[
  Promote a maxed group (if any) so that it is not maxed anymore
]]

-- Includes
--- @include "<base>/includes/addBaseMarkerIfNeeded"
--- @include "reinsertGroupIfNotRateLimitedOrPaused"
local function promoteMaxedGroup(prefixKey, markerKey, paused, groupId)
    if rcall("ZREM", prefixKey .. "groups:max", groupId) > 0 then
        local groupsKey = prefixKey .. 'groups'
        if reinsertGroupIfNotRateLimitedOrPaused(prefixKey, groupId) then
            addBaseMarkerIfNeeded(markerKey, paused)
        end
    end
end
