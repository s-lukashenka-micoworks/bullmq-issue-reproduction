-- Includes
--- @include "isGroupMaxed"
--- @include "reinsertGroupIfNeeded"

local function reinsertGroupIfNotMaxedOrPaused(prefixKey, groupId)
  if rcall("ZSCORE", prefixKey .. "groups:paused", groupId) == false then
    if not isGroupMaxed(prefixKey, groupId) then
      local groupsKey = prefixKey .. 'groups'
      local groupKey = prefixKey .. 'groups:' .. groupId
      return reinsertGroupIfNeeded(groupKey, groupsKey, groupId)
    end
  end
end
